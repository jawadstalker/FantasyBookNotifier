:root{
    /* رنگ‌های پایه - light */
    --bg: #f8fafc;
    --surface: #ffffff;
    --muted: #6b7280;
    --text: #0f172a;
    --brand: #0b5ed7; /* primary */
    --brand-600: #094bb0;
    --card-shadow: 0 8px 24px rgba(15,23,42,0.06);
    --glass: rgba(255,255,255,0.6);
    --input-bg: #fbfdff;
    --success: #16a34a;
    --danger: #dc3545;
  }
  
  /* dark theme overrides */
  .theme-dark {
    --bg: #0b1220;
    --surface: #0f1724;
    --muted: #94a3b8;
    --text: #e6eef8;
    --brand: #4f8cff;
    --brand-600: #3b72e6;
    --card-shadow: 0 8px 30px rgba(2,6,23,0.7);
    --glass: rgba(12,18,28,0.55);
    --input-bg: #0b1420;
    --success: #22c55e;
    --danger: #ff6b6b;
  }
  
  /* Global body */
  body {
    background: linear-gradient(180deg, var(--bg), color-mix(in srgb, var(--bg) 95%, var(--surface) 5%));
    color: var(--text);
    transition: background .35s ease, color .25s ease;
    -webkit-font-smoothing:antialiased;
    font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  
  /* Container tweaks */
  .container {
    max-width: 1100px;
  }
  
  /* Cards */
  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border: 0;
    border-radius: .9rem;
    box-shadow: var(--card-shadow);
    backdrop-filter: blur(6px);
    overflow: hidden;
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .card:hover { transform: translateY(-4px); box-shadow: 0 14px 40px rgba(2,6,23,0.12); }
  
  /* Card body spacing */
  .card-body { padding: 1.4rem; }
  
  /* Headings */
  .card-title {
    font-weight: 700;
    letter-spacing: -0.02em;
    color: var(--text);
    display:flex;
    align-items:center;
    gap:.6rem;
  }
  
  /* Muted text and small */
  .text-muted { color: var(--muted) !important; }
  
  /* Form controls (inputs & textareas) */
  .form-control {
    background: var(--input-bg);
    border: 1px solid rgba(15,23,42,0.06);
    border-radius: .6rem;
    padding: .8rem .9rem;
    transition: box-shadow .12s ease, border-color .12s ease, transform .08s ease;
    box-shadow: none;
    color: var(--text);
  }
  .form-control:focus {
    outline: none;
    border-color: color-mix(in srgb, var(--brand) 70%, transparent 30%);
    box-shadow: 0 6px 22px color-mix(in srgb, var(--brand) 12%, transparent);
    transform: translateY(-1px);
  }
  
  /* Disabled / readonly fields */
  .form-control[readonly], .form-control:disabled {
    opacity: .9;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  }
  
  /* Buttons (primary + dark) */
  .btn-primary {
    background: linear-gradient(90deg, var(--brand), var(--brand-600));
    border: none;
    border-radius: .65rem;
    padding: .68rem .95rem;
    font-weight: 600;
    box-shadow: 0 6px 18px color-mix(in srgb, var(--brand) 14%, transparent);
    transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
  }
  .btn-primary:active { transform: translateY(1px) scale(.998); box-shadow: 0 4px 10px rgba(11,78,183,0.12); }
  .btn-secondary, .btn-dark {
    border-radius: .65rem;
    padding: .6rem .9rem;
  }
  
  /* Icon utility */
  .icon-btn {
    display:inline-grid;
    place-items:center;
    width:42px;
    height:42px;
    border-radius:10px;
    border: 1px solid rgba(15,23,42,0.06);
    background: var(--glass);
    cursor: pointer;
    transition: transform .12s ease, box-shadow .12s ease;
  }
  .icon-btn:active { transform: scale(.98); }
  
  /* Theme toggle specific */
  .theme-toggle {
    position: fixed;
    right: 18px;
    bottom: 18px;
    z-index: 1050;
    display:flex;
    gap:.5rem;
    align-items:center;
    background: linear-gradient(180deg, color-mix(in srgb, var(--surface) 85%, transparent), transparent);
    padding:.55rem;
    border-radius: 999px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.08);
    border: 1px solid rgba(15,23,42,0.05);
    backdrop-filter: blur(8px);
  }
  
  /* Tiny label next to toggle */
  .theme-toggle .label {
    font-weight:600;
    color: var(--muted);
    font-size: .85rem;
    padding-right: .4rem;
  }
  
  /* Layout tweaks for large textareas */
  .char-box {
    min-height: 220px;
    border-radius: .6rem;
    font-size: .95rem;
    resize: vertical;
    padding: .9rem;
  }
  
  /* Message alerts area: subtle */
  .alert {
    border-radius: .6rem;
    margin-bottom: 0;
  }
  
  /* Publisher list checkboxes (look nicer) */
  #publishersList .form-check {
    margin-bottom: .4rem;
    padding: .45rem .55rem;
    border-radius: .55rem;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
    border: 1px solid rgba(15,23,42,0.03);
  }
  
  /* Responsive: make layout tighter on small screens */
  @media (max-width: 768px) {
    .card-body { padding: 1rem; }
    .theme-toggle { right: 12px; bottom: 12px; padding:.45rem; }
  }
  
  /* Small helper for subtle separators */
  .hr-subtle {
    height:1px;
    background: linear-gradient(90deg, transparent, rgba(15,23,42,0.04), transparent);
    margin: .8rem 0;
  }
  
  /* ===========================
   Hover & Interactive Effects
   =========================== */

/* جهانی: انیمیشن‌های نرم و زمان‌بندی */
* { transition-timing-function: cubic-bezier(.2,.9,.3,1); }
:root, .theme-dark { --hover-time: .18s; --hover-ease: cubic-bezier(.2,.9,.3,1); }

/* ---------------------------
   Card hover (تقویت عمق و رنگ)
   --------------------------- */
.card {
  transform-origin: center;
  will-change: transform, box-shadow;
}
.card:hover {
  transform: translateY(-8px) scale(1.004);
  box-shadow: 0 22px 60px rgba(2,6,23,0.14);
}

/* subtle gradient glow on hover (top-left) */
.card::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  border-radius: .9rem;
  background: radial-gradient(600px 160px at 12% 6%, color-mix(in srgb, var(--brand) 10%, transparent), transparent 10%);
  opacity:0;
  transition: opacity var(--hover-time) var(--hover-ease);
}
.card:hover::after{ opacity: .85; }

/* ---------------------------
   Card header accent line
   --------------------------- */
.card-title {
  position: relative;
  padding-left: .2rem;
}
.card-title::before{
  content: "";
  width: 36px;
  height: 4px;
  background: linear-gradient(90deg, var(--brand), var(--brand-600));
  border-radius: 8px;
  position: absolute;
  left: -0.9rem;
  top: calc(50% - 2px);
  transform-origin: left center;
  transform: translateX(-6px) scaleX(.9);
  opacity: .85;
  transition: transform var(--hover-time) var(--hover-ease), opacity var(--hover-time);
}
.card:hover .card-title::before {
  transform: translateX(0) scaleX(1);
  opacity: 1;
}

/* ---------------------------
   Buttons: depth + micro-interactions
   --------------------------- */
.btn {
  transition: transform var(--hover-time) var(--hover-ease), box-shadow var(--hover-time);
}
.btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 26px rgba(2,6,23,0.10);
}
.btn:active { transform: translateY(0); box-shadow: 0 6px 14px rgba(2,6,23,0.08); }

/* primary: subtle inner shine on hover */
.btn-primary::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: .65rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  mix-blend-mode: overlay;
  opacity: 0;
  transition: opacity var(--hover-time);
  pointer-events: none;
}
.btn-primary:hover::after { opacity: .35; }

/* dark/secondary: border glow */
.btn-dark:hover { border: 1px solid color-mix(in srgb, var(--brand) 50%, transparent); }

/* ---------------------------
   Icon button hover (گِرِیپ + جهش)
   --------------------------- */
.icon-btn {
  transition: transform .12s var(--hover-ease), box-shadow .12s var(--hover-ease), background .12s var(--hover-ease);
}
.icon-btn:hover {
  transform: translateY(-4px) rotate(-3deg) scale(1.04);
  box-shadow: 0 12px 30px rgba(2,6,23,0.12);
}
.icon-btn:active { transform: scale(.98) rotate(0deg); }

/* ---------------------------
   Publisher list item hover (قابل کلیک‌تر)
   --------------------------- */
#publishersList .form-check {
  cursor: pointer;
  transition: transform var(--hover-time) var(--hover-ease), box-shadow var(--hover-time);
}
#publishersList .form-check:hover {
  transform: translateX(6px);
  box-shadow: 0 8px 18px rgba(2,6,23,0.06);
}

/* checkbox nicer focus/hover */
#publishersList .form-check input[type="checkbox"] {
  transition: transform .12s var(--hover-ease), box-shadow .12s var(--hover-ease);
  width: 18px; height: 18px;
}
#publishersList .form-check input[type="checkbox"]:hover {
  transform: scale(1.08);
  box-shadow: 0 6px 14px rgba(11,78,183,0.08);
}

/* ---------------------------
   Inputs & Textareas (focus glow + lift)
   --------------------------- */
.form-control {
  transition: box-shadow .18s var(--hover-ease), transform .12s var(--hover-ease), border-color .12s var(--hover-ease);
}
.form-control:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(2,6,23,0.04); }
.form-control:focus {
  transform: translateY(-4px);
  box-shadow: 0 22px 50px color-mix(in srgb, var(--brand) 12%, transparent);
  border-color: var(--brand);
  outline: none;
}

/* textarea focused: soft gradient highlight */
.char-box:focus {
  background: linear-gradient(180deg, color-mix(in srgb, var(--input-bg) 80%, var(--glass) 20%), var(--input-bg));
}

/* ---------------------------
   Extract / Summary success animations
   --------------------------- */
.alert-success {
  animation: pop .36s cubic-bezier(.2,.9,.3,1);
}
@keyframes pop {
  0% { transform: translateY(12px) scale(.98); opacity: 0; }
  60% { transform: translateY(-6px) scale(1.02); opacity: 1; }
  100% { transform: translateY(0) scale(1); }
}

/* ---------------------------
   Floating theme toggle hover
   --------------------------- */
.theme-toggle {
  transition: transform var(--hover-time) var(--hover-ease), box-shadow var(--hover-time);
}
.theme-toggle:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(2,6,23,0.14); }
.theme-toggle .icon-btn { width: 44px; height: 44px; border-radius: 12px; }

/* ---------------------------
   Tiny underline animation for labels
   --------------------------- */
.form-label {
  display:inline-block;
  position: relative;
  cursor: default;
}
.form-label::after{
  content:"";
  position:absolute;
  left:0;
  bottom:-6px;
  height:2px;
  width:0%;
  background: linear-gradient(90deg, var(--brand), var(--brand-600));
  transition: width var(--hover-time) var(--hover-ease), opacity var(--hover-time);
  opacity:0.9;
}
.form-label:hover::after { width: 48%; opacity:1; }

/* ---------------------------
   Accessibility: keyboard focus visible
   --------------------------- */
:focus-visible {
  outline: 3px solid color-mix(in srgb, var(--brand) 16%, transparent);
  outline-offset: 3px;
  border-radius: 8px;
}

/* ---------------------------
   small screens: reduce hover intensity (touch devices)
   --------------------------- */
@media (hover: none) and (pointer: coarse) {
  .card:hover, .btn:hover, .icon-btn:hover, #publishersList .form-check:hover { transform: none; box-shadow: none; }
  #publishersList .form-check { transform: none; }
}

/* ---------------------------
   Optional: helper class to 'pulse' important CTA
   --------------------------- */
.pulse-cta {
  animation: pulse 3.6s infinite linear;
  transform-origin: center;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(79,140,255,0.12); }
  70% { box-shadow: 0 0 0 18px rgba(79,140,255,0.00); }
  100% { box-shadow: 0 0 0 0 rgba(79,140,255,0.00); }
}
